{
  "version": 3,
  "sources": ["../../@left4code/tw-starter/dist/js/modal.js"],
  "sourcesContent": ["import dom from \"./dom\";\n\n(function (dom) {\n  // Get highest z-index\n  function getHighestZindex() {\n    let zIndex = 9999;\n    dom(\".modal\").each(function () {\n      if (\n        dom(this).css(\"z-index\") !== \"auto\" &&\n        dom(this).css(\"z-index\") > zIndex\n      ) {\n        zIndex = parseInt(dom(this).css(\"z-index\"));\n      }\n    });\n\n    return zIndex;\n  }\n\n  // Get scrollbar width\n  function getScrollbarWidth(el) {\n    return window.innerWidth - dom(el)[0].clientWidth;\n  }\n\n  // Show modal with z-index\n  function show(el) {\n    if (!dom(\"[data-modal-replacer='\" + dom(el).attr(\"id\") + \"']\").length) {\n      // Move modal element to body\n      dom(\n        '<div data-modal-replacer=\"' + dom(el).attr(\"id\") + '\"></div>'\n      ).insertAfter(el);\n      dom(el).css({\n        \"margin-top\": 0,\n        \"margin-left\": 0,\n      });\n      dom(el).attr(\"aria-hidden\", false).appendTo(\"body\");\n\n      // Show modal by highest z-index\n      setTimeout(() => {\n        dom(el)\n          .addClass(\"show\")\n          .css(\"z-index\", getHighestZindex() + 1);\n\n        // Trigger \"shown.tw.modal\" callback function\n        const event = new Event(\"shown.tw.modal\");\n        dom(el)[0].dispatchEvent(event);\n      }, 200);\n\n      // Setting up modal scroll\n      dom(\"body\")\n        .css(\n          \"padding-right\",\n          parseInt(dom(\"body\").css(\"padding-right\")) +\n            getScrollbarWidth(\"html\") +\n            \"px\"\n        )\n        .addClass(\"overflow-y-hidden\");\n      dom(\".modal\").removeClass(\"overflow-y-auto\").css(\"padding-left\", \"0px\");\n      dom(el)\n        .addClass(\"overflow-y-auto\")\n        .css(\"padding-left\", getScrollbarWidth(el) + \"px\")\n        .addClass(dom(\".modal.show\").length ? \"modal-overlap\" : \"\");\n\n      // Trigger \"show.tw.modal\" callback function\n      const event = new Event(\"show.tw.modal\");\n      dom(el)[0].dispatchEvent(event);\n    }\n  }\n\n  // Hide modal & remove modal scroll\n  function hide(el) {\n    if (dom(el).hasClass(\"modal\") && dom(el).hasClass(\"show\")) {\n      let transitionDuration =\n        parseFloat(dom(el).css(\"transition-duration\").split(\",\")[1]) * 1000;\n      dom(el).attr(\"aria-hidden\", true).removeClass(\"show\");\n\n      setTimeout(() => {\n        dom(el)\n          .removeAttr(\"style\")\n          .removeClass(\"modal-overlap\")\n          .removeClass(\"overflow-y-auto\");\n\n        // Add scroll to highest z-index modal if exist\n        dom(\".modal\").each(function () {\n          if (parseInt(dom(this).css(\"z-index\")) === getHighestZindex()) {\n            dom(this)\n              .addClass(\"overflow-y-auto\")\n              .css(\"padding-left\", getScrollbarWidth(this) + \"px\");\n          }\n        });\n\n        // Return back scroll to body if no more modal showed up\n        if (getHighestZindex() == 9999) {\n          dom(\"body\").removeClass(\"overflow-y-hidden\").css(\"padding-right\", \"\");\n        }\n\n        // Return back modal element to it's first place\n        dom('[data-modal-replacer=\"' + dom(el).attr(\"id\") + '\"]').replaceWith(\n          el\n        );\n\n        // Trigger \"hidden.tw.modal\" callback function\n        const event = new Event(\"hidden.tw.modal\");\n        dom(el)[0].dispatchEvent(event);\n      }, transitionDuration);\n\n      // Trigger \"hide.tw.modal\" callback function\n      const event = new Event(\"hide.tw.modal\");\n      dom(el)[0].dispatchEvent(event);\n    }\n  }\n\n  // Toggle modal\n  function toggle(el) {\n    if (dom(el).hasClass(\"modal\") && dom(el).hasClass(\"show\")) {\n      hide(el);\n    } else {\n      show(el);\n    }\n  }\n\n  // Create instance\n  function createInstance(el) {\n    return {\n      show() {\n        show(el);\n      },\n      hide() {\n        hide(el);\n      },\n      toggle() {\n        toggle(el);\n      },\n    };\n  }\n\n  // Show modal\n  dom(\"body\").on(\"click\", '[data-tw-toggle=\"modal\"]', function () {\n    show(dom(this).attr(\"data-tw-target\"));\n  });\n\n  // Hide modal\n  dom(\"body\").on(\"click\", (event) => {\n    if (\n      dom(event.target).hasClass(\"modal\") &&\n      dom(event.target).hasClass(\"show\")\n    ) {\n      // Check if modal backdrop is not static\n      if (dom(event.target).data(\"tw-backdrop\") !== \"static\") {\n        hide(event.target);\n      } else {\n        dom(event.target).addClass(\"modal-static\");\n        setTimeout(() => {\n          dom(event.target).removeClass(\"modal-static\");\n        }, 600);\n      }\n    }\n  });\n\n  // Dismiss modal by link\n  dom(\"body\").on(\"click\", '[data-tw-dismiss=\"modal\"]', function () {\n    let modal = dom(this).closest(\".modal\")[0];\n    hide(modal);\n  });\n\n  // Keyboard event\n  document.addEventListener(\"keydown\", (event) => {\n    if (event.code == \"Escape\") {\n      let el = dom(\".modal.show\").last();\n      if (\n        dom(el).hasClass(\"modal\") &&\n        dom(el).hasClass(\"show\") &&\n        (dom(el).data(\"tw-keyboard\") === undefined ||\n          dom(el).data(\"tw-keyboard\") !== \"false\")\n      ) {\n        // Check if modal backdrop is not static\n        if (dom(el).data(\"tw-backdrop\") !== \"static\") {\n          hide(el);\n        } else {\n          dom(el).addClass(\"modal-static\");\n          setTimeout(() => {\n            dom(el).removeClass(\"modal-static\");\n          }, 600);\n        }\n      }\n    }\n  });\n\n  // Register instance\n  (function init() {\n    dom(\".modal\").each(function () {\n      this[\"__modal\"] = createInstance(this);\n    });\n\n    if (window.tailwind === undefined) window.tailwind = {};\n    window.tailwind.Modal = {\n      getInstance(el) {\n        return el.__modal;\n      },\n      getOrCreateInstance(el) {\n        return el.__modal === undefined ? createInstance(el) : el.__modal;\n      },\n    };\n  })();\n})(dom);\n"],
  "mappings": "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",
  "names": ["event"]
}
