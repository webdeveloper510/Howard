{
  "version": 3,
  "sources": ["../../@left4code/tw-starter/dist/js/modal.js"],
  "sourcesContent": ["import dom from \"./dom\";\r\n\r\n(function (dom) {\r\n  // Get highest z-index\r\n  function getHighestZindex() {\r\n    let zIndex = 9999;\r\n    dom(\".modal\").each(function () {\r\n      if (\r\n        dom(this).css(\"z-index\") !== \"auto\" &&\r\n        dom(this).css(\"z-index\") > zIndex\r\n      ) {\r\n        zIndex = parseInt(dom(this).css(\"z-index\"));\r\n      }\r\n    });\r\n\r\n    return zIndex;\r\n  }\r\n\r\n  // Get scrollbar width\r\n  function getScrollbarWidth(el) {\r\n    return window.innerWidth - dom(el)[0].clientWidth;\r\n  }\r\n\r\n  // Show modal with z-index\r\n  function show(el) {\r\n    if (!dom(\"[data-modal-replacer='\" + dom(el).attr(\"id\") + \"']\").length) {\r\n      // Move modal element to body\r\n      dom(\r\n        '<div data-modal-replacer=\"' + dom(el).attr(\"id\") + '\"></div>'\r\n      ).insertAfter(el);\r\n      dom(el).css({\r\n        \"margin-top\": 0,\r\n        \"margin-left\": 0,\r\n      });\r\n      dom(el).attr(\"aria-hidden\", false).appendTo(\"body\");\r\n\r\n      // Show modal by highest z-index\r\n      setTimeout(() => {\r\n        dom(el)\r\n          .addClass(\"show\")\r\n          .css(\"z-index\", getHighestZindex() + 1);\r\n\r\n        // Trigger \"shown.tw.modal\" callback function\r\n        const event = new Event(\"shown.tw.modal\");\r\n        dom(el)[0].dispatchEvent(event);\r\n      }, 200);\r\n\r\n      // Setting up modal scroll\r\n      dom(\"body\")\r\n        .css(\r\n          \"padding-right\",\r\n          parseInt(dom(\"body\").css(\"padding-right\")) +\r\n            getScrollbarWidth(\"html\") +\r\n            \"px\"\r\n        )\r\n        .addClass(\"overflow-y-hidden\");\r\n      dom(\".modal\").removeClass(\"overflow-y-auto\").css(\"padding-left\", \"0px\");\r\n      dom(el)\r\n        .addClass(\"overflow-y-auto\")\r\n        .css(\"padding-left\", getScrollbarWidth(el) + \"px\")\r\n        .addClass(dom(\".modal.show\").length ? \"modal-overlap\" : \"\");\r\n\r\n      // Trigger \"show.tw.modal\" callback function\r\n      const event = new Event(\"show.tw.modal\");\r\n      dom(el)[0].dispatchEvent(event);\r\n    }\r\n  }\r\n\r\n  // Hide modal & remove modal scroll\r\n  function hide(el) {\r\n    if (dom(el).hasClass(\"modal\") && dom(el).hasClass(\"show\")) {\r\n      let transitionDuration =\r\n        parseFloat(dom(el).css(\"transition-duration\").split(\",\")[1]) * 1000;\r\n      dom(el).attr(\"aria-hidden\", true).removeClass(\"show\");\r\n\r\n      setTimeout(() => {\r\n        dom(el)\r\n          .removeAttr(\"style\")\r\n          .removeClass(\"modal-overlap\")\r\n          .removeClass(\"overflow-y-auto\");\r\n\r\n        // Add scroll to highest z-index modal if exist\r\n        dom(\".modal\").each(function () {\r\n          if (parseInt(dom(this).css(\"z-index\")) === getHighestZindex()) {\r\n            dom(this)\r\n              .addClass(\"overflow-y-auto\")\r\n              .css(\"padding-left\", getScrollbarWidth(this) + \"px\");\r\n          }\r\n        });\r\n\r\n        // Return back scroll to body if no more modal showed up\r\n        if (getHighestZindex() == 9999) {\r\n          dom(\"body\").removeClass(\"overflow-y-hidden\").css(\"padding-right\", \"\");\r\n        }\r\n\r\n        // Return back modal element to it's first place\r\n        dom('[data-modal-replacer=\"' + dom(el).attr(\"id\") + '\"]').replaceWith(\r\n          el\r\n        );\r\n\r\n        // Trigger \"hidden.tw.modal\" callback function\r\n        const event = new Event(\"hidden.tw.modal\");\r\n        dom(el)[0].dispatchEvent(event);\r\n      }, transitionDuration);\r\n\r\n      // Trigger \"hide.tw.modal\" callback function\r\n      const event = new Event(\"hide.tw.modal\");\r\n      dom(el)[0].dispatchEvent(event);\r\n    }\r\n  }\r\n\r\n  // Toggle modal\r\n  function toggle(el) {\r\n    if (dom(el).hasClass(\"modal\") && dom(el).hasClass(\"show\")) {\r\n      hide(el);\r\n    } else {\r\n      show(el);\r\n    }\r\n  }\r\n\r\n  // Create instance\r\n  function createInstance(el) {\r\n    return {\r\n      show() {\r\n        show(el);\r\n      },\r\n      hide() {\r\n        hide(el);\r\n      },\r\n      toggle() {\r\n        toggle(el);\r\n      },\r\n    };\r\n  }\r\n\r\n  // Show modal\r\n  dom(\"body\").on(\"click\", '[data-tw-toggle=\"modal\"]', function () {\r\n    show(dom(this).attr(\"data-tw-target\"));\r\n  });\r\n\r\n  // Hide modal\r\n  dom(\"body\").on(\"click\", (event) => {\r\n    if (\r\n      dom(event.target).hasClass(\"modal\") &&\r\n      dom(event.target).hasClass(\"show\")\r\n    ) {\r\n      // Check if modal backdrop is not static\r\n      if (dom(event.target).data(\"tw-backdrop\") !== \"static\") {\r\n        hide(event.target);\r\n      } else {\r\n        dom(event.target).addClass(\"modal-static\");\r\n        setTimeout(() => {\r\n          dom(event.target).removeClass(\"modal-static\");\r\n        }, 600);\r\n      }\r\n    }\r\n  });\r\n\r\n  // Dismiss modal by link\r\n  dom(\"body\").on(\"click\", '[data-tw-dismiss=\"modal\"]', function () {\r\n    let modal = dom(this).closest(\".modal\")[0];\r\n    hide(modal);\r\n  });\r\n\r\n  // Keyboard event\r\n  document.addEventListener(\"keydown\", (event) => {\r\n    if (event.code == \"Escape\") {\r\n      let el = dom(\".modal.show\").last();\r\n      if (\r\n        dom(el).hasClass(\"modal\") &&\r\n        dom(el).hasClass(\"show\") &&\r\n        (dom(el).data(\"tw-keyboard\") === undefined ||\r\n          dom(el).data(\"tw-keyboard\") !== \"false\")\r\n      ) {\r\n        // Check if modal backdrop is not static\r\n        if (dom(el).data(\"tw-backdrop\") !== \"static\") {\r\n          hide(el);\r\n        } else {\r\n          dom(el).addClass(\"modal-static\");\r\n          setTimeout(() => {\r\n            dom(el).removeClass(\"modal-static\");\r\n          }, 600);\r\n        }\r\n      }\r\n    }\r\n  });\r\n\r\n  // Register instance\r\n  (function init() {\r\n    dom(\".modal\").each(function () {\r\n      this[\"__modal\"] = createInstance(this);\r\n    });\r\n\r\n    if (window.tailwind === undefined) window.tailwind = {};\r\n    window.tailwind.Modal = {\r\n      getInstance(el) {\r\n        return el.__modal;\r\n      },\r\n      getOrCreateInstance(el) {\r\n        return el.__modal === undefined ? createInstance(el) : el.__modal;\r\n      },\r\n    };\r\n  })();\r\n})(dom);\r\n"],
  "mappings": "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",
  "names": ["event"]
}
